{"ast":null,"code":"var _jsxFileName = \"/home/khazad/Development/sd-011-project-recipes-app/src/pages/FavoriteRecipes.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Header from '../components/Header';\nimport shareIcon from '../images/shareIcon.svg';\nimport blackHeartIcon from '../images/blackHeartIcon.svg';\nimport RecipeAppContext from '../context/RecipeAppContext';\nimport '../css/Profile.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst copy = require('clipboard-copy');\nfunction FavoriteRecipes() {\n  _s();\n  const [click, setClick] = useState(false);\n  const [filterType, setFilterType] = useState('All');\n  const [shouldRender, setShouldRender] = useState(false);\n  const history = useHistory();\n  const {\n    filteredFavoritesRecipes,\n    setFilteredFavoritesRecipes\n  } = useContext(RecipeAppContext);\n  function copyLink(type, id) {\n    copy(`http://localhost:3000/${type}s/${id}`);\n    setClick(true);\n  }\n  function filterFavoriteRecipes(favList, type) {\n    let filteredList = [];\n    switch (type) {\n      case 'Food':\n        filteredList = favList.filter(recipe => recipe.type === 'comida');\n        break;\n      case 'Drink':\n        filteredList = favList.filter(recipe => recipe.type === 'bebida');\n        break;\n      default:\n        filteredList = favList;\n        break;\n    }\n    setFilteredFavoritesRecipes(filteredList);\n  }\n  useEffect(() => {\n    const localStorageRecipes = JSON.parse(localStorage.getItem('favoriteRecipes'));\n    if (!localStorageRecipes) return;\n    filterFavoriteRecipes(localStorageRecipes, filterType);\n    setShouldRender(false);\n  }, [filterType, shouldRender]);\n  function deleteFavoriteRecipe(_ref) {\n    let {\n      target: {\n        id\n      }\n    } = _ref;\n    const localStorageRecipes = JSON.parse(localStorage.getItem('favoriteRecipes'));\n    const newFavoriteRecipes = localStorageRecipes.filter(item => item.id !== id);\n    localStorage.setItem('favoriteRecipes', JSON.stringify(newFavoriteRecipes));\n    setShouldRender(true);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      title: \"Receitas Favoritas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"favorite-recipes-buttons-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        \"data-testid\": \"filter-by-all-btn\",\n        name: \"All\",\n        className: \"favorite-recipes-buttons\",\n        onClick: _ref2 => {\n          let {\n            target: {\n              name\n            }\n          } = _ref2;\n          return setFilterType(name);\n        },\n        children: \"All\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        \"data-testid\": \"filter-by-food-btn\",\n        name: \"Food\",\n        className: \"favorite-recipes-buttons\",\n        onClick: _ref3 => {\n          let {\n            target: {\n              name\n            }\n          } = _ref3;\n          return setFilterType(name);\n        },\n        children: \"Food\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        \"data-testid\": \"filter-by-drink-btn\",\n        name: \"Drink\",\n        className: \"favorite-recipes-buttons\",\n        onClick: _ref4 => {\n          let {\n            target: {\n              name\n            }\n          } = _ref4;\n          return setFilterType(name);\n        },\n        children: \"Drinks\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: click ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Link copiado!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 22\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 45\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"favorite-recipes-container\",\n      children: filteredFavoritesRecipes && filteredFavoritesRecipes.map((recipes, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"favorite-recipes-cards\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"image\",\n          \"data-testid\": `${index}-horizontal-image`,\n          src: recipes.image,\n          width: \"100px\",\n          height: \"100px\",\n          alt: recipes.name,\n          onClick: () => history.push(`/${recipes.type}s/${recipes.id}`)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"profile-area-name\",\n          \"data-testid\": `${index}-horizontal-top-text`,\n          children: `${recipes.area} - ${recipes.category} ${recipes.alcoholicOrNot}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: `/${recipes.type}s/${recipes.id}`,\n          \"data-testid\": `${index}-horizontal-name`,\n          onClick: () => history.push(`/${recipes.type}s/${recipes.id}`),\n          className: \"profile-recipe-name\",\n          children: recipes.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-icons\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"image\",\n            \"data-testid\": `${index}-horizontal-favorite-btn`,\n            src: blackHeartIcon,\n            alt: recipes.name,\n            id: recipes.id,\n            onClick: e => deleteFavoriteRecipe(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"image\",\n            \"data-testid\": `${index}-horizontal-share-btn`,\n            src: shareIcon,\n            alt: \"card da receita\",\n            onClick: () => copyLink(recipes.type, recipes.id)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n_s(FavoriteRecipes, \"BhztzelS5MW2caHDF1w5xhoW2c0=\", false, function () {\n  return [useHistory];\n});\n_c = FavoriteRecipes;\nexport default FavoriteRecipes;\nvar _c;\n$RefreshReg$(_c, \"FavoriteRecipes\");","map":{"version":3,"names":["React","useContext","useState","useEffect","useHistory","Header","shareIcon","blackHeartIcon","RecipeAppContext","copy","require","FavoriteRecipes","click","setClick","filterType","setFilterType","shouldRender","setShouldRender","history","filteredFavoritesRecipes","setFilteredFavoritesRecipes","copyLink","type","id","filterFavoriteRecipes","favList","filteredList","filter","recipe","localStorageRecipes","JSON","parse","localStorage","getItem","deleteFavoriteRecipe","target","newFavoriteRecipes","item","setItem","stringify","name","map","recipes","index","image","push","area","category","alcoholicOrNot","e"],"sources":["/home/khazad/Development/sd-011-project-recipes-app/src/pages/FavoriteRecipes.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Header from '../components/Header';\nimport shareIcon from '../images/shareIcon.svg';\nimport blackHeartIcon from '../images/blackHeartIcon.svg';\nimport RecipeAppContext from '../context/RecipeAppContext';\nimport '../css/Profile.css';\n\nconst copy = require('clipboard-copy');\n\nfunction FavoriteRecipes() {\n  const [click, setClick] = useState(false);\n  const [filterType, setFilterType] = useState('All');\n  const [shouldRender, setShouldRender] = useState(false);\n  const history = useHistory();\n  const {\n    filteredFavoritesRecipes,\n    setFilteredFavoritesRecipes,\n  } = useContext(RecipeAppContext);\n\n  function copyLink(type, id) {\n    copy(`http://localhost:3000/${type}s/${id}`);\n    setClick(true);\n  }\n\n  function filterFavoriteRecipes(favList, type) {\n    let filteredList = [];\n    switch (type) {\n    case 'Food':\n      filteredList = favList.filter((recipe) => recipe.type === 'comida');\n      break;\n    case 'Drink':\n      filteredList = favList.filter((recipe) => recipe.type === 'bebida');\n      break;\n    default:\n      filteredList = favList;\n      break;\n    }\n    setFilteredFavoritesRecipes(filteredList);\n  }\n\n  useEffect(() => {\n    const localStorageRecipes = JSON.parse(localStorage.getItem('favoriteRecipes'));\n    if (!localStorageRecipes) return;\n    filterFavoriteRecipes(localStorageRecipes, filterType);\n    setShouldRender(false);\n  }, [filterType, shouldRender]);\n\n  function deleteFavoriteRecipe({ target: { id } }) {\n    const localStorageRecipes = JSON.parse(localStorage.getItem('favoriteRecipes'));\n    const newFavoriteRecipes = localStorageRecipes.filter((item) => item.id !== id);\n    localStorage.setItem('favoriteRecipes', JSON.stringify(newFavoriteRecipes));\n    setShouldRender(true);\n  }\n\n  return (\n    <div>\n      <Header title=\"Receitas Favoritas\" />\n      <div className=\"favorite-recipes-buttons-container\">\n        <button\n          type=\"button\"\n          data-testid=\"filter-by-all-btn\"\n          name=\"All\"\n          className=\"favorite-recipes-buttons\"\n          onClick={ ({ target: { name } }) => setFilterType(name) }\n        >\n          All\n        </button>\n\n        <button\n          type=\"button\"\n          data-testid=\"filter-by-food-btn\"\n          name=\"Food\"\n          className=\"favorite-recipes-buttons\"\n          onClick={ ({ target: { name } }) => setFilterType(name) }\n        >\n          Food\n        </button>\n\n        <button\n          type=\"button\"\n          data-testid=\"filter-by-drink-btn\"\n          name=\"Drink\"\n          className=\"favorite-recipes-buttons\"\n          onClick={ ({ target: { name } }) => setFilterType(name) }\n        >\n          Drinks\n        </button>\n      </div>\n\n      <br />\n      <span>{click ? <p>Link copiado!</p> : <div />}</span>\n\n      <div className=\"favorite-recipes-container\">\n        {filteredFavoritesRecipes && filteredFavoritesRecipes.map((recipes, index) => (\n          <div key={ index } className=\"favorite-recipes-cards\">\n            <input\n              type=\"image\"\n              data-testid={ `${index}-horizontal-image` }\n              src={ recipes.image }\n              width=\"100px\"\n              height=\"100px\"\n              alt={ recipes.name }\n              onClick={ () => history.push(`/${recipes.type}s/${recipes.id}`) }\n            />\n\n            <p\n              className=\"profile-area-name\"\n              data-testid={ `${index}-horizontal-top-text` }\n            >\n              {`${recipes.area} - ${recipes.category} ${recipes.alcoholicOrNot}`}\n            </p>\n\n            <a\n              href={ `/${recipes.type}s/${recipes.id}` }\n              data-testid={ `${index}-horizontal-name` }\n              onClick={ () => history.push(`/${recipes.type}s/${recipes.id}`) }\n              className=\"profile-recipe-name\"\n            >\n              { recipes.name }\n            </a>\n\n            <div className=\"profile-icons\">\n              <input\n                type=\"image\"\n                data-testid={ `${index}-horizontal-favorite-btn` }\n                src={ blackHeartIcon }\n                alt={ recipes.name }\n                id={ recipes.id }\n                onClick={ (e) => deleteFavoriteRecipe(e) }\n              />\n              <input\n                type=\"image\"\n                data-testid={ `${index}-horizontal-share-btn` }\n                src={ shareIcon }\n                alt=\"card da receita\"\n                onClick={ () => copyLink(recipes.type, recipes.id) }\n              />\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default FavoriteRecipes;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}