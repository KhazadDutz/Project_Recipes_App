{"ast":null,"code":"var _jsxFileName = \"/home/khazad/Development/sd-011-project-recipes-app/src/pages/DrinksRecipeInProgress.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport '../css/RecipeInProgress.css';\nimport blackHeartIcon from '../images/blackHeartIcon.svg';\nimport whiteHeartIcon from '../images/whiteHeartIcon.svg';\nimport RenderDrinkProgress from '../components/RenderDrinkProgress';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction DrinksRecipeInProgress(_ref) {\n  _s();\n  let {\n    match: {\n      params: {\n        id\n      }\n    }\n  } = _ref;\n  const [drinkInProgress, setDrinkInProgress] = useState('');\n  const [loading, setIsLoading] = useState(true);\n  const [finalListIngredients, setFinalListIngredients] = useState();\n  const [classNameIngredients, setClassNameIngredients] = useState([]);\n  const [statusIngredients, setStatusIngredients] = useState([]);\n  const [favoriteIcon, setFavoriteIcon] = useState(whiteHeartIcon);\n  const [hasChecked, setHasChecked] = useState(false);\n  const [statusEndRecipeButton, setStatusEndRecipeButton] = useState(true);\n  const [countCheckIngredList, setCountCheckIngredList] = useState(0);\n  const [numberIngredients, setNumberIngredients] = useState(0);\n  const ingredListClass = [];\n  const ingredList = [];\n  useEffect(() => {\n    const endpoint = `https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${id}`;\n    const getDrinkDetails = async () => {\n      const response = await fetch(endpoint);\n      const data = await response.json();\n      const {\n        drinks\n      } = data;\n      setDrinkInProgress(drinks[0]);\n    };\n    getDrinkDetails();\n  }, []);\n  useEffect(() => {\n    const favoriteRecipes = JSON.parse(localStorage.getItem('favoriteRecipes')) || [];\n    const isFavorite = favoriteRecipes.some(recipe => recipe.id === id);\n    if (isFavorite) setFavoriteIcon(blackHeartIcon);\n  }, []);\n  useEffect(() => {\n    let inProgressRecipes = JSON.parse(localStorage.getItem('inProgressRecipes')) || []; // senão tiver nada é um array vazio\n    const ingredArray = Object.entries(drinkInProgress).filter(key => key[0].includes('strIngredient') && key[1]);\n    ingredArray.forEach(item => ingredList.push(item[1]));\n    if (inProgressRecipes && !inProgressRecipes.cocktails) {\n      const arrayStatus = [];\n      ingredArray.forEach(() => {\n        ingredListClass.push('notChecked');\n        arrayStatus.push(false); // crio um array mesmo tamanho de n ingredientes\n      });\n\n      inProgressRecipes = {\n        ...inProgressRecipes,\n        cocktails: {\n          [id]: arrayStatus\n        }\n      };\n      localStorage.setItem('inProgressRecipes', JSON.stringify(inProgressRecipes));\n    }\n    const cocktails = inProgressRecipes.cocktails || {\n      cocktails: {}\n    };\n    let countYesChecked = 0;\n    const statusIngredSaved = cocktails[id] || [];\n    statusIngredSaved.forEach(item => {\n      // vou passar pelo array de status da comida atual, para criar o check css no item\n      console.log(item);\n      if (item) {\n        countYesChecked += 1;\n        ingredListClass.push('yesChecked');\n      } else {\n        ingredListClass.push('notChecked');\n      }\n    });\n    setCountCheckIngredList(countYesChecked);\n    setStatusIngredients(statusIngredSaved);\n    setNumberIngredients(ingredList.length);\n    setClassNameIngredients(ingredListClass);\n    setFinalListIngredients(ingredList);\n    setIsLoading(false);\n    setFinalListIngredients(ingredList);\n  }, [drinkInProgress]);\n  function renderComponentDrinkProgress() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(RenderDrinkProgress, {\n        strDrinkThumb: drinkInProgress.strDrinkThumb,\n        strDrink: drinkInProgress.strDrink,\n        strCategory: drinkInProgress.strCategory,\n        strInstructions: drinkInProgress.strInstructions,\n        id: id,\n        finalListIngredients: finalListIngredients,\n        classNameIngredients: classNameIngredients,\n        statusIngredients: statusIngredients,\n        statusEndRecipeButton: statusEndRecipeButton,\n        favoriteIcon: favoriteIcon,\n        setFavoriteIcon: setFavoriteIcon,\n        setHasChecked: setHasChecked,\n        setStatusIngredients: setStatusIngredients,\n        setClassNameIngredients: setClassNameIngredients,\n        setCountCheckIngredList: setCountCheckIngredList,\n        countCheckIngredList: countCheckIngredList,\n        numberIngredients: numberIngredients,\n        setStatusEndRecipeButton: setStatusEndRecipeButton,\n        hasChecked: hasChecked,\n        strAlcoholic: drinkInProgress.strAlcoholic\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"span\", {\n      children: loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Carregando...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 21\n      }, this) : renderComponentDrinkProgress()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n}\n_s(DrinksRecipeInProgress, \"MHAuoccu2EFQrup45ucD6b53l/g=\");\n_c = DrinksRecipeInProgress;\nDrinksRecipeInProgress.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string\n    })\n  }).isRequired\n};\nexport default DrinksRecipeInProgress;\nvar _c;\n$RefreshReg$(_c, \"DrinksRecipeInProgress\");","map":{"version":3,"names":["React","useEffect","useState","PropTypes","blackHeartIcon","whiteHeartIcon","RenderDrinkProgress","DrinksRecipeInProgress","match","params","id","drinkInProgress","setDrinkInProgress","loading","setIsLoading","finalListIngredients","setFinalListIngredients","classNameIngredients","setClassNameIngredients","statusIngredients","setStatusIngredients","favoriteIcon","setFavoriteIcon","hasChecked","setHasChecked","statusEndRecipeButton","setStatusEndRecipeButton","countCheckIngredList","setCountCheckIngredList","numberIngredients","setNumberIngredients","ingredListClass","ingredList","endpoint","getDrinkDetails","response","fetch","data","json","drinks","favoriteRecipes","JSON","parse","localStorage","getItem","isFavorite","some","recipe","inProgressRecipes","ingredArray","Object","entries","filter","key","includes","forEach","item","push","cocktails","arrayStatus","setItem","stringify","countYesChecked","statusIngredSaved","console","log","length","renderComponentDrinkProgress","strDrinkThumb","strDrink","strCategory","strInstructions","strAlcoholic","propTypes","shape","string","isRequired"],"sources":["/home/khazad/Development/sd-011-project-recipes-app/src/pages/DrinksRecipeInProgress.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport '../css/RecipeInProgress.css';\nimport blackHeartIcon from '../images/blackHeartIcon.svg';\nimport whiteHeartIcon from '../images/whiteHeartIcon.svg';\nimport RenderDrinkProgress from '../components/RenderDrinkProgress';\n\nfunction DrinksRecipeInProgress({ match: { params: { id } } }) {\n  const [drinkInProgress, setDrinkInProgress] = useState('');\n  const [loading, setIsLoading] = useState(true);\n  const [finalListIngredients, setFinalListIngredients] = useState();\n  const [classNameIngredients, setClassNameIngredients] = useState([]);\n  const [statusIngredients, setStatusIngredients] = useState([]);\n  const [favoriteIcon, setFavoriteIcon] = useState(whiteHeartIcon);\n  const [hasChecked, setHasChecked] = useState(false);\n  const [statusEndRecipeButton, setStatusEndRecipeButton] = useState(true);\n  const [countCheckIngredList, setCountCheckIngredList] = useState(0);\n  const [numberIngredients, setNumberIngredients] = useState(0);\n  const ingredListClass = [];\n  const ingredList = [];\n\n  useEffect(() => {\n    const endpoint = `https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${id}`;\n    const getDrinkDetails = async () => {\n      const response = await fetch(endpoint);\n      const data = await response.json();\n      const { drinks } = data;\n      setDrinkInProgress(drinks[0]);\n    };\n    getDrinkDetails();\n  }, []);\n\n  useEffect(() => {\n    const favoriteRecipes = JSON.parse(localStorage.getItem('favoriteRecipes')) || [];\n    const isFavorite = favoriteRecipes.some((recipe) => recipe.id === id);\n    if (isFavorite) setFavoriteIcon(blackHeartIcon);\n  }, []);\n\n  useEffect(() => {\n    let inProgressRecipes = JSON.parse(localStorage.getItem('inProgressRecipes')) || []; // senão tiver nada é um array vazio\n    const ingredArray = Object.entries(drinkInProgress)\n      .filter((key) => key[0].includes('strIngredient') && key[1]);\n    ingredArray.forEach((item) => ingredList.push(item[1]));\n\n    if (inProgressRecipes && !inProgressRecipes.cocktails) {\n      const arrayStatus = [];\n      ingredArray.forEach(() => {\n        ingredListClass.push('notChecked');\n        arrayStatus.push(false); // crio um array mesmo tamanho de n ingredientes\n      });\n      inProgressRecipes = {\n        ...inProgressRecipes,\n        cocktails: {\n          [id]: arrayStatus,\n        },\n      };\n      localStorage.setItem('inProgressRecipes', JSON.stringify(inProgressRecipes));\n    }\n\n    const cocktails = inProgressRecipes.cocktails || { cocktails: {} };\n    let countYesChecked = 0;\n    const statusIngredSaved = cocktails[id] || [];\n    statusIngredSaved.forEach((item) => { // vou passar pelo array de status da comida atual, para criar o check css no item\n      console.log(item)\n      if (item) {\n        countYesChecked += 1;\n        ingredListClass.push('yesChecked');\n      } else {\n        ingredListClass.push('notChecked');\n      }\n    });\n    setCountCheckIngredList(countYesChecked);\n    setStatusIngredients(statusIngredSaved);\n    setNumberIngredients(ingredList.length);\n    setClassNameIngredients(ingredListClass);\n    setFinalListIngredients(ingredList);\n    setIsLoading(false);\n    setFinalListIngredients(ingredList);\n  }, [drinkInProgress]);\n\n  function renderComponentDrinkProgress() {\n    return (\n      <div>\n        <RenderDrinkProgress\n          strDrinkThumb={ drinkInProgress.strDrinkThumb }\n          strDrink={ drinkInProgress.strDrink }\n          strCategory={ drinkInProgress.strCategory }\n          strInstructions={ drinkInProgress.strInstructions }\n          id={ id }\n          finalListIngredients={ finalListIngredients }\n          classNameIngredients={ classNameIngredients }\n          statusIngredients={ statusIngredients }\n          statusEndRecipeButton={ statusEndRecipeButton }\n          favoriteIcon={ favoriteIcon }\n          setFavoriteIcon={ setFavoriteIcon }\n          setHasChecked={ setHasChecked }\n          setStatusIngredients={ setStatusIngredients }\n          setClassNameIngredients={ setClassNameIngredients }\n          setCountCheckIngredList={ setCountCheckIngredList }\n          countCheckIngredList={ countCheckIngredList }\n          numberIngredients={ numberIngredients }\n          setStatusEndRecipeButton={ setStatusEndRecipeButton }\n          hasChecked={ hasChecked }\n          strAlcoholic={ drinkInProgress.strAlcoholic }\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <span>\n        { loading ? <p>Carregando...</p> : renderComponentDrinkProgress()}\n      </span>\n    </div>\n  );\n}\n\nDrinksRecipeInProgress.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string,\n    }),\n  }).isRequired,\n};\n\nexport default DrinksRecipeInProgress;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}